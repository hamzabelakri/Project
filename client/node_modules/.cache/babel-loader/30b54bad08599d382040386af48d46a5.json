{"ast":null,"code":"import axios from \"axios\";\nimport { SIGN_IN, USER_FAIL, LOG_OUT, REGISTER } from \"../Types\";\nexport const login = (useInfo, nav) => async dispatch => {\n  try {\n    const response = await axios.post(\"http://localhost:2000/auth/sign-in\", useInfo);\n    dispatch({\n      type: SIGN_IN,\n      payload: {\n        user: response.data.user,\n        token: response.data.token\n      }\n    });\n    nav('/profile');\n  } catch (error) {\n    dispatch({\n      type: USER_FAIL\n    });\n    console.log(error.data.errors.map(elt => alert(elt)));\n  }\n};\nexport const register = (useInfo, nav) => async dispatch => {\n  console.log(useInfo);\n\n  try {\n    const response = await axios.post(\"http://localhost:2000/auth/sign-up\", useInfo);\n    dispatch({\n      type: REGISTER,\n      payload: {\n        user: response.data.user,\n        token: response.data.token\n      }\n    });\n    nav('/profile');\n  } catch (error) {\n    dispatch({\n      type: USER_FAIL\n    });\n    console.log(error.data.errors.map(elt => alert(elt)));\n  }\n};\nexport const logOut = nav => {\n  nav('/');\n  return {\n    type: LOG_OUT\n  };\n};","map":{"version":3,"sources":["C:/Users/Bel Akri/Desktop/auth-workshop/client/src/Redux/Actions/authAction.js"],"names":["axios","SIGN_IN","USER_FAIL","LOG_OUT","REGISTER","login","useInfo","nav","dispatch","response","post","type","payload","user","data","token","error","console","log","errors","map","elt","alert","register","logOut"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,EAAkBC,SAAlB,EAA4BC,OAA5B,EAAoCC,QAApC,QAAmD,UAAnD;AACA,OAAO,MAAMC,KAAK,GAAC,CAACC,OAAD,EAASC,GAAT,KAAe,MAAMC,QAAN,IAAiB;AAC/C,MAAI;AACA,UAAMC,QAAQ,GAAC,MAAMT,KAAK,CAACU,IAAN,CAAW,oCAAX,EAAgDJ,OAAhD,CAArB;AACAE,IAAAA,QAAQ,CAAC;AAACG,MAAAA,IAAI,EAACV,OAAN;AAAcW,MAAAA,OAAO,EAAC;AAACC,QAAAA,IAAI,EAACJ,QAAQ,CAACK,IAAT,CAAcD,IAApB;AAAyBE,QAAAA,KAAK,EAACN,QAAQ,CAACK,IAAT,CAAcC;AAA7C;AAAtB,KAAD,CAAR;AACAR,IAAAA,GAAG,CAAC,UAAD,CAAH;AACH,GAJD,CAIE,OAAOS,KAAP,EAAc;AACZR,IAAAA,QAAQ,CAAC;AAACG,MAAAA,IAAI,EAACT;AAAN,KAAD,CAAR;AACDe,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACF,IAAN,CAAWK,MAAX,CAAkBC,GAAlB,CAAuBC,GAAD,IAAOC,KAAK,CAACD,GAAD,CAAlC,CAAZ;AAEF;AACJ,CAVM;AAWP,OAAO,MAAME,QAAQ,GAAC,CAACjB,OAAD,EAASC,GAAT,KAAe,MAAMC,QAAN,IAAiB;AAClDS,EAAAA,OAAO,CAACC,GAAR,CAAYZ,OAAZ;;AACA,MAAI;AACA,UAAMG,QAAQ,GAAC,MAAMT,KAAK,CAACU,IAAN,CAAW,oCAAX,EAAgDJ,OAAhD,CAArB;AACAE,IAAAA,QAAQ,CAAC;AAACG,MAAAA,IAAI,EAACP,QAAN;AAAeQ,MAAAA,OAAO,EAAC;AAACC,QAAAA,IAAI,EAACJ,QAAQ,CAACK,IAAT,CAAcD,IAApB;AAAyBE,QAAAA,KAAK,EAACN,QAAQ,CAACK,IAAT,CAAcC;AAA7C;AAAvB,KAAD,CAAR;AACAR,IAAAA,GAAG,CAAC,UAAD,CAAH;AAEH,GALD,CAKE,OAAOS,KAAP,EAAc;AACZR,IAAAA,QAAQ,CAAC;AAACG,MAAAA,IAAI,EAACT;AAAN,KAAD,CAAR;AACAe,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACF,IAAN,CAAWK,MAAX,CAAkBC,GAAlB,CAAuBC,GAAD,IAAOC,KAAK,CAACD,GAAD,CAAlC,CAAZ;AACH;AACJ,CAXM;AAYP,OAAO,MAAMG,MAAM,GAAEjB,GAAD,IAAO;AACzBA,EAAAA,GAAG,CAAC,GAAD,CAAH;AACA,SAAO;AAACI,IAAAA,IAAI,EAACR;AAAN,GAAP;AAED,CAJM","sourcesContent":["import axios from \"axios\";\r\nimport { SIGN_IN ,USER_FAIL,LOG_OUT,REGISTER} from \"../Types\";\r\nexport const login=(useInfo,nav)=>async(dispatch)=>{\r\n    try {\r\n        const response=await axios.post(\"http://localhost:2000/auth/sign-in\",useInfo)\r\n        dispatch({type:SIGN_IN,payload:{user:response.data.user,token:response.data.token}})\r\n        nav('/profile')\r\n    } catch (error) {\r\n        dispatch({type:USER_FAIL})\r\n       console.log(error.data.errors.map((elt)=>alert(elt)))\r\n        \r\n    }\r\n}\r\nexport const register=(useInfo,nav)=>async(dispatch)=>{\r\n    console.log(useInfo)\r\n    try {\r\n        const response=await axios.post(\"http://localhost:2000/auth/sign-up\",useInfo)\r\n        dispatch({type:REGISTER,payload:{user:response.data.user,token:response.data.token}})\r\n        nav('/profile')\r\n        \r\n    } catch (error) {\r\n        dispatch({type:USER_FAIL})\r\n        console.log(error.data.errors.map((elt)=>alert(elt)))\r\n    }\r\n}\r\nexport const logOut=(nav)=>{\r\n  nav('/');\r\n  return {type:LOG_OUT}\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}